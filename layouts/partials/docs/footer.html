<div class="flex flex-wrap justify-between">
{{ if .Site.IsMultiLingual }}
  {{ partial "docs/languages" . }}
{{ end }}

{{ if and .GitInfo .Site.Params.BookRepo }}
  <div>
    {{- $date := partial "docs/date" (dict "Date" .GitInfo.AuthorDate.Local "Format" .Site.Params.BookDateFormat) -}}
    {{- $commitPath := default "commit" .Site.Params.BookCommitPath -}}
    <a class="flex align-center" href="{{ .Site.Params.BookRepo }}/{{ $commitPath }}/{{ .GitInfo.Hash }}" title='{{ i18n "Last modified by" }} {{ .GitInfo.AuthorName }} | {{ $date }}' target="_blank" rel="noopener">
      <img src="{{ "svg/calendar.svg" | relURL }}" class="book-icon" alt="Calendar" />
      <span>{{ $date }}</span>
    </a>
  </div>
{{ end }}

{{ if and .File .Site.Params.BookRepo .Site.Params.BookEditPath }}
  <div>
    <a class="flex align-center" href="{{ .Site.Params.BookRepo }}/{{ .Site.Params.BookEditPath }}/{{ .Site.Params.contentDir | default "content" }}/{{ replace .File.Path "\\" "/" }}" target="_blank" rel="noopener">
      <img src="{{ "svg/edit.svg" | relURL }}" class="book-icon" alt="Edit" />
      <span>{{ i18n "Edit this page" }}</span>
    </a>
  </div>
{{ end }}
</div>

<script src="js/main.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function() {
    var closeButton = document.getElementById("close-banner");
    var banner = document.getElementById("warning-banner");
  
    // Function to check if the banner should be shown
    function shouldShowBanner() {
      var lastHideTime = localStorage.getItem("bannerLastHideTime");
      if (!lastHideTime) {
        return true; // Never been shown
      }
      
      var oneHour = 60 * 60 * 1000; // One hour in milliseconds
      var now = new Date().getTime();
  
      if (now - lastHideTime >= oneHour) {
        return true; // One hour has passed since last hide
      }
      
      return false;
    }
  
    // Show or hide the banner based on the above logic
    if (shouldShowBanner()) {
      banner.style.display = "block";
    } else {
      banner.style.display = "none";
    }
  
    // Handle the close button click
    closeButton.addEventListener("click", function() {
      banner.style.display = "none";
      localStorage.setItem("bannerLastHideTime", new Date().getTime());
    });
  });
  
</script>
